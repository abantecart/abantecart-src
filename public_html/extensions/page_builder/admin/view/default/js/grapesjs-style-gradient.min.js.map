{"version":3,"file":"index.js","mappings":"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","sources":["webpack://grapesjs-style-gradient/webpack/universalModuleDefinition","webpack://grapesjs-style-gradient/./node_modules/grapick/dist/grapick.min.js","webpack://grapesjs-style-gradient/webpack/bootstrap","webpack://grapesjs-style-gradient/webpack/runtime/compat get default export","webpack://grapesjs-style-gradient/webpack/runtime/define property getters","webpack://grapesjs-style-gradient/webpack/runtime/hasOwnProperty shorthand","webpack://grapesjs-style-gradient/webpack/runtime/make namespace object","webpack://grapesjs-style-gradient/./src/styles.ts","webpack://grapesjs-style-gradient/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-style-gradient\"] = factory();\n\telse\n\t\troot[\"grapesjs-style-gradient\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","/*! grapick - 0.1.13 */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Grapick=t():e.Grapick=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([function(e,t,n){\"use strict\";function i(e,t,n){t=t.split(/\\s+/);for(var i=0;i<t.length;++i)e.addEventListener(t[i],n)}function r(e,t,n){t=t.split(/\\s+/);for(var i=0;i<t.length;++i)e.removeEventListener(t[i],n)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.on=i,t.off=r;t.isFunction=function(e){return\"function\"==typeof e},t.isDef=function(e){return void 0!==e},t.getPointerEvent=function(e){return e.touches&&e.touches[0]||e}},function(e,t,n){\"use strict\";var i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=function(e){return new r.default(e)}},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(3),c=i(s),h=n(4),f=i(h),d=n(0),v=function(e,t){return e.position-t.position},p=function(e){return e+\"-gradient(\"},g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e=Object.assign({},e);var i={pfx:\"grp\",el:\".grp\",colorEl:\"\",min:0,max:100,direction:\"90deg\",type:\"linear\",height:\"30px\",width:\"100%\",emptyColor:\"#000\",onValuePos:function(e){return parseInt(e)}};for(var r in i)r in e||(e[r]=i[r]);var l=e.el;if(!((l=\"string\"==typeof l?document.querySelector(l):l)instanceof HTMLElement))throw\"Element not found, given \"+l;return n.el=l,n.handlers=[],n.options=e,n.on(\"handler:color:change\",function(e,t){return n.change(t)}),n.on(\"handler:position:change\",function(e,t){return n.change(t)}),n.on(\"handler:remove\",function(e){return n.change(1)}),n.on(\"handler:add\",function(e){return n.change(1)}),n.render(),n}return l(t,e),u(t,[{key:\"destroy\",value:function(){var e=this;this.clear(),this.e={},[\"el\",\"handlers\",\"options\",\"colorPicker\"].forEach(function(t){return e[t]=0}),[\"previewEl\",\"wrapperEl\",\"sandEl\"].forEach(function(t){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n),delete e[t]})}},{key:\"setColorPicker\",value:function(e){this.colorPicker=e}},{key:\"getValue\",value:function(e,t){var n=this.getColorValue(),i=e||this.getType(),r=[\"top\",\"left\",\"bottom\",\"right\",\"center\"],o=t||this.getDirection();return[\"linear\",\"repeating-linear\"].indexOf(i)>=0&&r.indexOf(o)>=0&&(o=\"center\"===o?\"to right\":\"to \"+o),[\"radial\",\"repeating-radial\"].indexOf(i)>=0&&r.indexOf(o)>=0&&(o=\"circle at \"+o),n?i+\"-gradient(\"+o+\", \"+n+\")\":\"\"}},{key:\"getSafeValue\",value:function(e,t){var n=this.previewEl,i=this.getValue(e,t);if(!this.sandEl&&(this.sandEl=document.createElement(\"div\")),!n||!i)return\"\";for(var o=this.sandEl.style,a=[i].concat(r(this.getPrefixedValues(e,t))),l=void 0,u=0;u<a.length&&(l=a[u],o.backgroundImage=l,o.backgroundImage!=l);u++);return o.backgroundImage}},{key:\"setValue\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.type,r=this.direction,o=t.indexOf(\"(\")+1,a=t.lastIndexOf(\")\"),l=t.substring(o,a),u=l.split(/,(?![^(]*\\)) /);if(this.clear(n),!l)return void this.updatePreview();u.length>2&&(r=u.shift());var s=void 0;[\"repeating-linear\",\"repeating-radial\",\"linear\",\"radial\"].forEach(function(e){t.indexOf(p(e))>-1&&!s&&(s=1,i=e)}),this.setDirection(r,n),this.setType(i,n),u.forEach(function(t){var i=t.split(\" \"),r=parseFloat(i.pop()),o=i.join(\"\");e.addHandler(r,o,0,n)}),this.updatePreview()}},{key:\"getColorValue\",value:function(){var e=this.handlers;return e.sort(v),e=1==e.length?[e[0],e[0]]:e,e.map(function(e){return e.getValue()}).join(\", \")}},{key:\"getPrefixedValues\",value:function(e,t){var n=this.getValue(e,t);return[\"-moz-\",\"-webkit-\",\"-o-\",\"-ms-\"].map(function(e){return\"\"+e+n})}},{key:\"change\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updatePreview(),!t.silent&&this.emit(\"change\",e)}},{key:\"setDirection\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options.direction=e;var n=t.complete,i=void 0===n?1:n;this.change(i,t)}},{key:\"getDirection\",value:function(){return this.options.direction}},{key:\"setType\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options.type=e;var n=t.complete,i=void 0===n?1:n;this.change(i,t)}},{key:\"getType\",value:function(){return this.options.type}},{key:\"addHandler\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new f.default(this,e,t,n,i);return!i.silent&&this.emit(\"handler:add\",r),r}},{key:\"getHandler\",value:function(e){return this.handlers[e]}},{key:\"getHandlers\",value:function(){return this.handlers}},{key:\"clear\",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.handlers,n=t.length-1;n>=0;n--)t[n].remove(e)}},{key:\"getSelected\",value:function(){for(var e=this.getHandlers(),t=0;t<e.length;t++){var n=e[t];if(n.isSelected())return n}return null}},{key:\"updatePreview\",value:function(){var e=this.previewEl;e&&(e.style.backgroundImage=this.getValue(\"linear\",\"to right\"))}},{key:\"initEvents\",value:function(){var e=this,t=this.previewEl;t&&(0,d.on)(t,\"click\",function(n){var i=e.options,r=i.min,o=i.max,a={w:t.clientWidth,h:t.clientHeight},l=n.offsetX-t.clientLeft,u=n.offsetY-t.clientTop,s=l/a.w*100;if(!(s>o||s<r||u>a.h||u<0)){var c=document.createElement(\"canvas\"),h=c.getContext(\"2d\");c.width=a.w,c.height=a.h;var f=h.createLinearGradient(0,0,a.w,a.h);e.getHandlers().forEach(function(e){return f.addColorStop(e.position/100,e.color)}),h.fillStyle=f,h.fillRect(0,0,c.width,c.height),c.style.background=\"black\";var d=c.getContext(\"2d\").getImageData(l,u,1,1).data,v=\"rgba(\"+d[0]+\", \"+d[1]+\", \"+d[2]+\", \"+d[3]+\")\",p=\"rgba(0, 0, 0, 0)\"==v?i.emptyColor:v;e.addHandler(s,p)}})}},{key:\"render\",value:function(){var e=this.options,t=this.el,n=e.pfx,i=e.height,r=e.width;if(t){var o=n+\"-wrapper\",a=n+\"-preview\";t.innerHTML='\\n      <div class=\"'+o+'\">\\n        <div class=\"'+a+'\"></div>\\n      </div>\\n    ';var l=t.querySelector(\".\"+o),u=t.querySelector(\".\"+a),s=l.style;s.position=\"relative\",this.wrapperEl=l,this.previewEl=u,i&&(s.height=i),r&&(s.width=r),this.initEvents(),this.updatePreview()}}}]),t}(c.default);t.default=g},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:\"on\",value:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this}},{key:\"once\",value:function(e,t,n){function i(){r.off(e,i),t.apply(n,arguments)}var r=this;return i._=t,this.on(e,i,n)}},{key:\"emit\",value:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this}},{key:\"off\",value:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"black\",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i(this,e),t.getHandlers().push(this),this.gp=t,this.position=n,this.color=r,this.selected=0,this.render(),o&&this.select(a)}return r(e,[{key:\"toJSON\",value:function(){return{position:this.position,selected:this.selected,color:this.color}}},{key:\"setColor\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.color=e,this.emit(\"handler:color:change\",this,t)}},{key:\"setPosition\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getEl();this.position=e,n&&(n.style.left=e+\"%\"),this.emit(\"handler:position:change\",this,t)}},{key:\"getColor\",value:function(){return this.color}},{key:\"getPosition\",value:function(){var e=this.position,t=this.gp,n=t.options.onValuePos;return(0,o.isFunction)(n)?n(e):e}},{key:\"isSelected\",value:function(){return!!this.selected}},{key:\"getValue\",value:function(){return this.getColor()+\" \"+this.getPosition()+\"%\"}},{key:\"select\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getEl(),n=this.gp.getHandlers();!e.keepSelect&&n.forEach(function(e){return e.deselect()}),this.selected=1;var i=this.getSelectedCls();t&&(t.className+=\" \"+i),this.emit(\"handler:select\",this)}},{key:\"deselect\",value:function(){var e=this.getEl();this.selected=0;var t=this.getSelectedCls();e&&(e.className=e.className.replace(t,\"\").trim()),this.emit(\"handler:deselect\",this)}},{key:\"getSelectedCls\",value:function(){return this.gp.options.pfx+\"-handler-selected\"}},{key:\"remove\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.cpFn,i=this.getEl(),r=this.gp.getHandlers(),a=r.splice(r.indexOf(this),1)[0];return i&&i.parentNode.removeChild(i),!t.silent&&this.emit(\"handler:remove\",a),(0,o.isFunction)(n)&&n(this),[\"el\",\"gp\"].forEach(function(t){return e[t]=0}),a}},{key:\"getEl\",value:function(){return this.el}},{key:\"initEvents\",value:function(){var e=this,t=this.getEl(),n=this.gp.previewEl,i=this.gp.options,r=i.min,a=i.max,l=t.querySelector(\"[data-toggle=handler-close]\"),u=t.querySelector(\"[data-toggle=handler-color-c]\"),s=t.querySelector(\"[data-toggle=handler-color-wrap]\"),c=t.querySelector(\"[data-toggle=handler-color]\"),h=t.querySelector(\"[data-toggle=handler-drag]\"),f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.target.value;e.setColor(i,n),s&&(s.style.backgroundColor=i)};if(u&&(0,o.on)(u,\"click\",function(e){return e.stopPropagation()}),l&&(0,o.on)(l,\"click\",function(t){t.stopPropagation(),e.remove()}),c&&((0,o.on)(c,\"change\",f),(0,o.on)(c,\"input\",function(e){return f(e,0)})),h){var d=0,v=0,p=0,g={},y={},m={},k=function(t){var n=(0,o.getPointerEvent)(t);p=1,m.x=n.clientX-y.x,m.y=n.clientY-y.y,d=100*m.x,d/=g.w,d=v+d,d=d<r?r:d,d=d>a?a:d,e.setPosition(d,0),e.emit(\"handler:drag\",e,d),(0,o.isDef)(t.button)&&0===t.which&&b(t)},b=function t(n){(0,o.off)(document,\"touchmove mousemove\",k),(0,o.off)(document,\"touchend mouseup\",t),p&&(p=0,e.setPosition(d),e.emit(\"handler:drag:end\",e,d))},w=function(t){if(!(0,o.isDef)(t.button)||0===t.button){e.select();var i=(0,o.getPointerEvent)(t);v=e.position,g.w=n.clientWidth,g.h=n.clientHeight,y.x=i.clientX,y.y=i.clientY,(0,o.on)(document,\"touchmove mousemove\",k),(0,o.on)(document,\"touchend mouseup\",b),e.emit(\"handler:drag:start\",e)}};(0,o.on)(h,\"touchstart mousedown\",w),(0,o.on)(h,\"click\",function(e){return e.stopPropagation()})}}},{key:\"emit\",value:function(){var e;(e=this.gp).emit.apply(e,arguments)}},{key:\"render\",value:function(){var e=this.gp,t=e.options,n=e.previewEl,i=e.colorPicker,r=t.pfx,o=t.colorEl,a=this.getColor();if(n){var l=document.createElement(\"div\"),u=l.style,s=r+\"-handler\";return l.className=s,l.innerHTML='\\n      <div class=\"'+s+'-close-c\">\\n        <div class=\"'+s+'-close\" data-toggle=\"handler-close\">&Cross;</div>\\n      </div>\\n      <div class=\"'+s+'-drag\" data-toggle=\"handler-drag\"></div>\\n      <div class=\"'+s+'-cp-c\" data-toggle=\"handler-color-c\">\\n        '+(o||'\\n          <div class=\"'+s+'-cp-wrap\" data-toggle=\"handler-color-wrap\" style=\"background-color: '+a+'\">\\n            <input type=\"color\" data-toggle=\"handler-color\" value=\"'+a+'\">\\n          </div>')+\"\\n      </div>\\n    \",u.position=\"absolute\",u.top=0,u.left=this.position+\"%\",n.appendChild(l),this.el=l,this.initEvents(),this.cpFn=i&&i(this),l}}}]),e}();t.default=a}])});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import type { Editor } from 'grapesjs';\n// @ts-ignore\nimport Grapick from 'grapick';\nimport { PluginOptions } from '.';\n\ninterface GradientStop {\n  color: string;\n  position: string;\n};\n\nexport interface GradientParseResult {\n  direction: string;\n  type: string;\n  content: string;\n  colors: string;\n  stops: GradientStop[],\n}\n\nconst getColor = (color: any) => {\n  let cl = color.getAlpha() == 1 ? color.toHexString() : color.toRgbString();\n  return cl.replace(/ /g, '');\n}\n\nconst typeName = (name: string) => `${name}-gradient(`;\n\n/**\n * Parse CSS gradient value.\n */\nexport const parseGradient = (value: string): GradientParseResult => {\n  const start = value.indexOf('(') + 1;\n  const end = value.lastIndexOf(')');\n  const content = value.substring(start, end);\n  const values = content.split(/,(?![^(]*\\))/);\n  const result: GradientParseResult = {\n    direction: 'left',\n    type: 'linear',\n    content,\n    colors: content,\n    stops: [],\n  };\n\n  if (!content) {\n    return result;\n  }\n\n  if (values.length > 2) {\n    result.direction = values.shift()!;\n    result.colors = values.join(',').trim();\n  }\n\n  let typeFound = false;\n  const types = ['repeating-linear', 'repeating-radial', 'linear', 'radial'];\n  types.forEach(name => {\n    if (value.indexOf(typeName(name)) > -1 && !typeFound) {\n      typeFound = true;\n      result.type = name;\n    }\n  });\n\n  result.stops = values.map(value => {\n    const parts = value.split(' ');\n    const position = (parts.length > 1 ? parts.pop()! : '').trim();\n    const color = parts.join(' ').trim();\n    return { color, position };\n  });\n\n  return result;\n};\n\n/**\n * Get CSS gradient value.\n */\nexport const toGradient = (type: string, angle: string, color: string): string => {\n  const angles = [...GRAD_DIRS, 'center'];\n  let angleValue = angle;\n\n  if (\n    ['linear', 'repeating-linear'].indexOf(type) >= 0\n    && angles.indexOf(angleValue) >= 0\n  ) {\n    angleValue = angleValue === 'center' ? 'to right' : `to ${angleValue}`;\n  }\n\n  if (\n    ['radial', 'repeating-radial'].indexOf(type) >= 0\n    && angles.indexOf(angleValue) >= 0\n  ) {\n    angleValue = `circle at ${angleValue}`;\n  }\n\n  return color ? `${type}-gradient(${angleValue}, ${color})` : '';\n};\n\nexport const getValidDir = (value: string) => {\n  return GRAD_DIRS.filter(dir => value.indexOf(dir) > -1)[0];\n}\n\nexport const GRAD_DIRS = ['right', 'bottom', 'left', 'top'];\nexport const GRAD_TYPES = ['linear', 'radial', 'repeating-linear', 'repeating-radial'];\nconst defaultCpAttr = '[data-toggle=\"handler-color-wrap\"]';\nconst PROP_GRADIENT = 'background-image-gradient';\nconst PROP_DIR = `${PROP_GRADIENT}-dir`;\nconst PROP_TYPE = `${PROP_GRADIENT}-type`;\n\nexport default (editor: Editor, config: PluginOptions = {}) => {\n  const em = editor.getModel();\n  const { Styles } = editor;\n  let { colorPicker, builtInType } = config;\n  const styleTypeId = config.styleType;\n\n  const clearHandler = (handler: any) => {\n    const el = handler.getEl().querySelector(defaultCpAttr);\n    const $el = editor.$(el);\n    $el.spectrum && $el.spectrum('destroy');\n  };\n\n  styleTypeId && Styles.addType<{ gp?: any }>(styleTypeId, {\n    create({ change }) {\n      const el = document.createElement('div');\n      el.className = 'gp-container';\n      el.style.width = '100%';\n      const gp = new Grapick({ el, ...config.grapickOpts });\n      gp.on('change', (complete: boolean) => change({ value: gp.getValue(), partial: !complete }));\n      this.gp = gp;\n\n      // Add the custom color picker, if requested\n      if (colorPicker === 'default') {\n        colorPicker = handler => {\n          const handlerEl = handler.getEl();\n          const el = handlerEl.querySelector(defaultCpAttr);\n          const handlerInput = handlerEl.querySelector('input');\n          handlerInput?.parentNode.removeChild(handlerInput)\n          const elStyle = el.style;\n          elStyle.backgroundColor = handler.getColor();\n          const updateColor = (color: any, complete = 1) => {\n            const cl = getColor(color);\n            elStyle.backgroundColor = cl;\n            handler.setColor(cl, complete);\n          };\n          em.initBaseColorPicker(el, {\n            color: handler.getColor(),\n            change(color: any) {\n              updateColor(color);\n            },\n            move(color: any) {\n              updateColor(color, 0);\n            },\n          });\n        };\n\n        gp.on('handler:remove', clearHandler);\n      }\n\n      colorPicker && gp.setColorPicker(colorPicker);\n\n      return el;\n    },\n    emit({ updateStyle }, { partial, value }) {\n      updateStyle(value, { partial });\n    },\n    update({ value }) {\n      const { gp } = this;\n      if (gp.getValue() === value) return;\n      const handlers = gp.getHandlers();\n      handlers.map(clearHandler);\n      gp.setValue(value, { silent: true });\n\n      if (config.selectEdgeStops) {\n          [handlers[0], handlers[handlers.length - 1]].filter(Boolean)\n            .map(h => h.select({ keepSelect: true }));\n      }\n    },\n    destroy() {\n      this.gp?.destroy();\n    },\n  });\n\n  builtInType && Styles.addBuiltIn(builtInType, {\n    type: 'composite',\n    // @ts-ignore\n    fromStyle(style: any, { name }: any) {\n      const parsed = parseGradient(style[name] || '');\n      const gradType = parsed.type || GRAD_TYPES[0];\n      const gradDir = getValidDir(parsed.direction) || GRAD_DIRS[0];\n      const result = {\n        [PROP_GRADIENT]: toGradient(gradType, gradDir, parsed.colors),\n        [PROP_TYPE]: gradType,\n        [PROP_DIR]: gradDir,\n      };\n      return result;\n    },\n    toStyle(values: any, { name }: any) {\n      const gradValue = values[PROP_GRADIENT] || '';\n      const gradType = values[PROP_TYPE] || GRAD_TYPES[0];\n      const gradDir = values[PROP_DIR] || GRAD_DIRS[0];\n      const parsed = parseGradient(gradValue);\n      const result = toGradient(gradType, gradDir, parsed.colors);\n      return { [name]: result };\n    },\n    properties: [\n      {\n        name: ' ',\n        full: true,\n        defaults: 'none',\n        type: styleTypeId,\n        property: PROP_GRADIENT,\n      },\n      {\n        name: 'Direction',\n        type: 'select',\n        defaults: 'right',\n        property: PROP_DIR,\n        options: GRAD_DIRS.map(value => ({ value })),\n      },\n      {\n        name: 'Type',\n        type: 'select',\n        defaults: 'linear',\n        property: PROP_TYPE,\n        options: GRAD_TYPES.map(value => ({ value })),\n      }\n    ]\n  });\n}\n","import type { Plugin } from 'grapesjs';\nimport loadStyles from './styles';\n\nexport { parseGradient, toGradient, getValidDir, GRAD_DIRS, GRAD_TYPES } from './styles';\n\nexport type PluginOptions = {\n  /**\n   * Grapick options.\n   * https://github.com/artf/grapick#configurations\n   * @default {}\n   */\n  grapickOpts?: Record<string, any>,\n\n  /**\n   * Custom color picker, check Grapick's repo to get more about it.\n   * If you leave it empty the native color picker will be used.\n   * You can use 'default' string to get the one used\n   * by Grapesjs (which is spectrum at the moment of writing).\n   */\n  colorPicker?: 'default' | ((handler: any) => void),\n\n  /**\n   * Select, by default, the edge color stops of the gradient picker.\n   * @default true\n   */\n  selectEdgeStops?: boolean,\n\n  /**\n   * The id to assign for the gradient picker type.\n   * @default 'gradient'\n   */\n  styleType?: string,\n\n  /**\n   * Built-in property name to use for the composite type with the gradient\n   * picker and direction/type selectors.\n   * @default 'background-image'\n   */\n  builtInType?: string | false,\n};\n\nconst plugin: Plugin<PluginOptions> =  (editor, opts = {}) => {\n  const options: PluginOptions = {\n    grapickOpts: {},\n    selectEdgeStops: true,\n    styleType: 'gradient',\n    builtInType: 'background-image',\n    ...opts,\n  };\n  loadStyles(editor, options);\n};\n\nexport default plugin;\n"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","self","e","t","i","n","r","l","call","m","c","d","o","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","split","length","addEventListener","removeEventListener","value","on","off","isFunction","isDef","getPointerEvent","touches","Array","isArray","from","TypeError","a","ReferenceError","create","constructor","writable","setPrototypeOf","__proto__","u","key","f","v","position","g","arguments","getPrototypeOf","assign","pfx","el","colorEl","min","max","direction","type","height","width","emptyColor","onValuePos","parseInt","document","querySelector","HTMLElement","handlers","options","change","render","clear","forEach","parentNode","removeChild","colorPicker","getColorValue","getType","getDirection","indexOf","previewEl","getValue","sandEl","createElement","style","concat","getPrefixedValues","backgroundImage","lastIndexOf","substring","shift","setDirection","setType","parseFloat","pop","join","addHandler","updatePreview","sort","map","silent","emit","complete","remove","getHandlers","isSelected","w","clientWidth","h","clientHeight","offsetX","clientLeft","offsetY","clientTop","getContext","createLinearGradient","addColorStop","color","fillStyle","fillRect","background","getImageData","data","innerHTML","wrapperEl","initEvents","push","fn","ctx","apply","_","slice","gp","selected","select","getEl","left","getColor","getPosition","keepSelect","deselect","getSelectedCls","className","replace","trim","cpFn","splice","target","setColor","backgroundColor","stopPropagation","y","k","x","clientX","clientY","setPosition","button","which","b","top","appendChild","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","obj","prop","Symbol","toStringTag","parseGradient","start","end","content","values","result","colors","stops","typeFound","name","typeName","parts","toGradient","angle","angles","GRAD_DIRS","angleValue","getValidDir","filter","dir","GRAD_TYPES","defaultCpAttr","PROP_GRADIENT","PROP_DIR","PROP_TYPE","editor","opts","config","em","getModel","Styles","builtInType","styleTypeId","styleType","clearHandler","handler","$el","$","spectrum","addType","grapickOpts","partial","handlerEl","handlerInput","elStyle","updateColor","cl","getAlpha","toHexString","toRgbString","initBaseColorPicker","move","setColorPicker","updateStyle","update","setValue","selectEdgeStops","Boolean","destroy","addBuiltIn","fromStyle","parsed","gradType","gradDir","toStyle","gradValue","properties","full","defaults","property"],"sourceRoot":""}